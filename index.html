<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jim's YouTube ê²€ìƒ‰ê¸°</title>
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Firebase SDK - ë™ê¸° ë¡œë”© -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
</head>
<body>
    <!-- Auth Section -->
    <div class="auth-section" id="authSection">
        <button class="auth-btn login-btn" id="loginBtn">ë¡œê·¸ì¸</button>
        <button class="auth-btn signup-btn" id="signupBtn">ê°€ì…í•˜ê¸°</button>
        <div class="user-info" id="userInfo" style="display: none;">
            <img id="userAvatar" class="user-avatar" src="" alt="User Avatar">
            <span class="user-name" id="userName" style="cursor: pointer;" title="í´ë¦­í•˜ì—¬ í”„ë¡œí•„ ìˆ˜ì •"></span>
            <button class="logout-btn" id="logoutBtn">ë¡œê·¸ì•„ì›ƒ</button>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="signup-modal" id="loginModal">
        <div class="signup-form">
            <button class="close-modal" id="closeLoginModal">&times;</button>
            <h2>ë¡œê·¸ì¸</h2>
            <div class="form-group">
                <label for="loginEmail">ì´ë©”ì¼</label>
                <input type="email" id="loginEmail" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”">
            </div>
            <div class="form-group">
                <label for="loginPassword">ë¹„ë°€ë²ˆí˜¸</label>
                <div class="password-wrapper">
                    <input type="password" id="loginPassword" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                    <button type="button" class="password-toggle" onclick="togglePassword('loginPassword', 'loginPasswordToggle')">
                        <span id="loginPasswordToggle">ë³´ê¸°</span>
                    </button>
                </div>
            </div>
            <div class="form-buttons">
                <button class="submit-btn" id="submitLogin">ë¡œê·¸ì¸</button>
                <button class="cancel-btn" id="cancelLogin">ì·¨ì†Œ</button>
            </div>
        </div>
    </div>

    <!-- Signup Modal -->
    <div class="signup-modal" id="signupModal">
        <div class="signup-form">
            <button class="close-modal" id="closeModal">&times;</button>
            <h2>íšŒì› ê°€ì…</h2>
            <div class="form-group">
                <label for="signupUsername">ì•„ì´ë””</label>
                <input type="text" id="signupUsername" placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            </div>
            <div class="form-group">
                <label for="signupId">ì´ë©”ì¼</label>
                <input type="email" id="signupId" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”">
            </div>
            <div class="form-group">
                <label for="signupPassword">ë¹„ë°€ë²ˆí˜¸</label>
                <div class="password-wrapper">
                    <input type="password" id="signupPassword" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                    <button type="button" class="password-toggle" onclick="togglePassword('signupPassword', 'signupPasswordToggle')">
                        <span id="signupPasswordToggle">ë³´ê¸°</span>
                    </button>
                </div>
            </div>
            <div class="form-group">
                <label for="signupPasswordConfirm">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                <div class="password-wrapper">
                    <input type="password" id="signupPasswordConfirm" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•˜ì„¸ìš”">
                    <button type="button" class="password-toggle" onclick="togglePassword('signupPasswordConfirm', 'signupPasswordConfirmToggle')">
                        <span id="signupPasswordConfirmToggle">ë³´ê¸°</span>
                    </button>
                </div>
            </div>
            <div class="form-buttons">
                <button class="submit-btn" id="submitSignup">ê°€ì…í•˜ê¸°</button>
                <button class="cancel-btn" id="cancelSignup">ì·¨ì†Œ</button>
            </div>
        </div>
    </div>

    <!-- Profile Edit Modal -->
    <div class="signup-modal" id="profileEditModal">
        <div class="signup-form">
            <button class="close-modal" id="closeProfileEditModal">&times;</button>
            <h2>í”„ë¡œí•„ ìˆ˜ì •</h2>
            <div class="form-group">
                <label for="editUsername">ì•„ì´ë””</label>
                <input type="text" id="editUsername" placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            </div>
            <div class="form-group">
                <label for="editEmail">ì´ë©”ì¼</label>
                <input type="email" id="editEmail" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”" readonly style="background: #f0f0f0;">
            </div>
            <div class="form-buttons">
                <button class="submit-btn" id="submitProfileEdit">ìˆ˜ì •í•˜ê¸°</button>
                <button class="cancel-btn" id="cancelProfileEdit">ì·¨ì†Œ</button>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1>ğŸ¬ Jim's YouTube ì±„ë„</h1>
            <p>ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ê³  ë‹¤ì–‘í•œ ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”!</p>
        </div>

        <div class="search-box">
            <div class="search-input-group">
                <input type="text" id="searchInput" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." value="news" />
                <button id="searchBtn">ê²€ìƒ‰</button>
            </div>
            
            <div class="search-mode-indicator" id="searchModeIndicator">
                <span class="mode-text">í˜„ì¬ ê²€ìƒ‰ ëª¨ë“œ: ğŸŸ¢ Google API</span>
            </div>

            <!-- API í‚¤ëŠ” ì„œë²„ì—ì„œ ìë™ìœ¼ë¡œ ë¡œë“œë˜ë¯€ë¡œ ì…ë ¥ë€ ìˆ¨ê¹€ -->
            <div class="api-key-section" id="apiKeySection" style="display: none;">
                <input type="password" id="apiKey" style="display: none;" />
                <input type="password" id="serpApiKey" style="display: none;" />
            </div>

            <!-- View Count Filter -->
            <div class="filter-section">
                <div class="filter-group view-filter">
                    <label>ì¡°íšŒìˆ˜ í•„í„°:</label>
                    <label><input type="radio" name="viewCountFilter" value="all" checked> ì „ì²´</label>
                    <label><input type="radio" name="viewCountFilter" value="1000"> 1K+</label>
                    <label><input type="radio" name="viewCountFilter" value="10000"> 10K+</label>
                    <label><input type="radio" name="viewCountFilter" value="100000"> 100K+</label>
                    <label><input type="radio" name="viewCountFilter" value="1000000"> 1M+</label>
                    <label><input type="radio" name="viewCountFilter" value="10000000"> 10M+</label>
                </div>
                
                <!-- Subscriber Count Filter -->
                <div class="filter-group sub-filter">
                    <label>êµ¬ë…ì í•„í„°:</label>
                    <label><input type="radio" name="subCountFilter" value="all" checked> ì „ì²´</label>
                    <label><input type="radio" name="subCountFilter" value="0-1000"> 1-1K</label>
                    <label><input type="radio" name="subCountFilter" value="1000-10000"> 1K-10K</label>
                    <label><input type="radio" name="subCountFilter" value="10000-100000"> 10K-100K</label>
                    <label><input type="radio" name="subCountFilter" value="100000-1000000"> 100K-1M</label>
                    <label><input type="radio" name="subCountFilter" value="1000000"> 1M+</label>
                </div>
                 
                 <!-- Upload Date Filter -->
                 <div class="filter-group date-filter">
                     <label>ì—…ë¡œë“œì¼ì í•„í„°:</label>
                     <label><input type="radio" name="uploadDateFilter" value="all" checked> ì „ì²´</label>
                     <label><input type="radio" name="uploadDateFilter" value="1"> ìµœê·¼ 1ì¼</label>
                     <label><input type="radio" name="uploadDateFilter" value="3"> ìµœê·¼ 3ì¼</label>
                     <label><input type="radio" name="uploadDateFilter" value="7"> ìµœê·¼ 7ì¼</label>
                     <label><input type="radio" name="uploadDateFilter" value="30"> 1ê°œì›” ì´ë‚´</label>
                     <label><input type="radio" name="uploadDateFilter" value="90"> 3ê°œì›” ì´ë‚´</label>
                     <label><input type="radio" name="uploadDateFilter" value="180"> 6ê°œì›” ì´ë‚´</label>
                    <label><input type="radio" name="uploadDateFilter" value="365"> 1ë…„ ì´ë‚´</label>
                </div>
                
                <!-- Video Duration Filter -->
                <div class="filter-group duration-filter">
                    <label>ì˜ìƒê¸¸ì´ í•„í„°:</label>
                    <label><input type="radio" name="durationFilter" value="all" checked> ì „ì²´</label>
                    <label><input type="radio" name="durationFilter" value="0-60"> <1min</label>
                    <label><input type="radio" name="durationFilter" value="60-600"> 1min-10min</label>
                    <label><input type="radio" name="durationFilter" value="1200-3600"> 20min-1hour</label>
                    <label><input type="radio" name="durationFilter" value="3600"> 1hour+</label>
                </div>
            </div>

            <!-- Sort Options -->
            <div class="filter-group sort-filter">
                <label for="sortSelect">ì •ë ¬:</label>
                <select id="sortSelect">
                    <option value="vpd_desc">ì¼í‰ê·  ì¡°íšŒìˆ˜ ë†’ì€ìˆœ</option>
                    <option value="vpd_asc">ì¼í‰ê·  ì¡°íšŒìˆ˜ ë‚®ì€ìˆœ</option>
                    <option value="view_desc">ì¡°íšŒìˆ˜ ë†’ì€ìˆœ</option>
                    <option value="view_asc">ì¡°íšŒìˆ˜ ë‚®ì€ìˆœ</option>
                    <option value="date_desc">ìµœì‹ ìˆœ</option>
                    <option value="date_asc">ì˜¤ë˜ëœìˆœ</option>
                </select>
            </div>
        </div>

        <!-- Pagination Section -->
        <div class="pagination-section">
            <div class="result-summary" id="resultSummary">
                ê²€ìƒ‰ ê²°ê³¼: <span id="totalCount">0</span>ê°œ
            </div>
            <div class="pagination-bar">
                <button id="prevPage" class="page-btn" aria-label="Previous page">â—€</button>
                <span id="pageInfo" class="page-info">1 / 1 page</span>
                <button id="nextPage" class="page-btn" aria-label="Next page">â–¶</button>
            </div>
        </div>

        <!-- Results Container -->
        <div id="results" class="results-container">
            <div class="loading">â³ ê²€ìƒ‰ ì¤‘...</div>
        </div>
    </div>

    <!-- ì „ì—­ í•¨ìˆ˜ (ë¹„ë°€ë²ˆí˜¸ í† ê¸€) -->
    <script>
        function togglePassword(inputId, toggleId) {
            const input = document.getElementById(inputId);
            const toggle = document.getElementById(toggleId);
            
            if (input.type === 'password') {
                input.type = 'text';
                toggle.textContent = 'ìˆ¨ê¸°ê¸°';
            } else {
                input.type = 'password';
                toggle.textContent = 'ë³´ê¸°';
            }
        }
        
        // Firebase SDK ë¡œë“œ ì™„ë£Œ í›„ main.js ë¡œë“œ
        window.addEventListener('load', function() {
            const script = document.createElement('script');
            script.type = 'module';
            script.src = 'js/main.js';
            document.body.appendChild(script);
        });
    </script>
</body>
</html>
